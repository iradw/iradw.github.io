(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{517:function(e,t,n){"use strict";n.r(t);var l=n(4),r=Object(l.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"从输入url到页面显示的过程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#从输入url到页面显示的过程"}},[e._v("#")]),e._v(" 从输入url到页面显示的过程")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("输入url后，浏览器会查看是否有对应的缓存，如果有缓存并且新鲜(未过期)，跳转到转码步骤。")])]),e._v(" "),n("li",[n("p",[e._v("通过DNS查询，获取url对应的ip地址，查询过程为\n1. 浏览器缓存\n2. 本地缓存\n3. 路由器缓存\n4. 运营商缓存\n5. DNS递归查询")])]),e._v(" "),n("li",[n("p",[e._v("和服务器通过3次握手，建立TCP连接，过程为\n1. 客户端发送SYN=1, SEQ=X\n2. 服务端发送SYN=1, ACK=X+1, SEQ=Y\n3. 客户端发送ACK=Y+1, SEQ=Z")])]),e._v(" "),n("li",[n("p",[e._v("建立HTTP连接，客户端发送HTTP请求。服务端收到HTTP请求，转发到处理程序。")])]),e._v(" "),n("li",[n("p",[e._v("服务器查询数据库、计算数据，将HTTP响应发送给客户端，通过四次握手关闭TCP连接。")])]),e._v(" "),n("li",[n("p",[e._v("浏览器检查"),n("a",{attrs:{href:"http://www.fisheep.cool/Detail?article_id=11",target:"_blank",rel:"noopener noreferrer"}},[e._v("状态码"),n("OutboundLink")],1),e._v("，对每种状态码做不同处理。")])]),e._v(" "),n("li",[n("p",[e._v("如果资源可缓存，进行缓存。")])]),e._v(" "),n("li",[n("p",[e._v("解析HTML文档，构建DOM树，过程中遇到图片、js文件、样式表，启动下载。")])]),e._v(" "),n("li",[n("p",[e._v("构建CSSOM树，根据DOM树和CSSOM树建立渲染树，从DOM树的根节点遍历所有可见节点(不可见节点包括"),n("code",[e._v("script")]),e._v("、"),n("code",[e._v("meta")]),e._v("等，以及"),n("code",[e._v("display")]),e._v("为"),n("code",[e._v("none")]),e._v("的节点)")])]),e._v(" "),n("li",[n("p",[e._v("解析js文件，")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[e._v("1. 创建document对象，将解析到的元素和文本节点添加到文档中。此时document.readyState为loading\n2. 将没有defer和async的script同步执行，这些脚本下载时会暂停解析。\n3. 遇到async的script会进行下载，但不会暂停脚本的执行，会在下载完毕后尽快执行。\n4. 遇到defer的script会在其他脚本执行完后，按照出现的顺序执行。\n5. 触发document的DOMContentLoaded事件。\n6. 此时可能等待图片等资源的加载，加载完毕后，document.readyState变为complete，触发window.load事件。\n")])])])]),e._v(" "),n("li",[n("p",[e._v("加载完成，显示页面。")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);